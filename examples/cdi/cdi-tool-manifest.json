{
  "displayName": "CDI Metadata Tool",
  "description": "View and edit DDI-CDI (Data Documentation Initiative - Cross Domain Integration) metadata files using SHACL shapes. This tool provides a standards-compliant viewer and editor for CDI metadata with validation against official CDIF shapes.",
  "toolName": "cdiTool",
  "scope": "file",
  "types": ["preview", "explore"],
  "toolUrl": "https://erykkul.github.io/dataverse-previewers/previewers/betatest/CdiPreview.html",
  "toolParameters": {
    "queryParameters": [
      {
        "fileid": "{fileId}"
      },
      {
        "siteUrl": "{siteUrl}"
      },
      {
        "datasetid": "{datasetId}"
      },
      {
        "datasetversion": "{datasetVersion}"
      },
      {
        "locale": "{localeCode}"
      }
    ]
  },
  "contentType": "application/ld+json",
  "allowedApiCalls": [
    {
      "name": "retrieveFileContents",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=true",
      "timeOut": 3600
    },
    {
      "name": "downloadFile",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=false",
      "timeOut": 3600
    },
    {
      "name": "getDatasetVersionMetadata",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/datasets/{datasetId}/versions/{datasetVersion}",
      "timeOut": 3600
    },
    {
      "name": "replaceFile",
      "httpMethod": "POST",
      "urlTemplate": "/api/files/{fileId}/replace",
      "timeOut": 3600
    }
  ]
}
